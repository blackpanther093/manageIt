<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Mess Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body class="bg-gray-900 text-gray-200 font-sans flex items-center justify-center min-h-screen">
  <a href="\home" class="absolute top-6 left-6 inline-flex items-center bg-yellow-500 text-gray-900 px-6 py-3 rounded-lg hover:bg-yellow-600 shadow-md">
    <i class="ph ph-house mr-2"></i> Home
  </a>
  
  <div class="bg-gray-800 p-8 ml-5 mr-5 mt-20 mb-8 rounded-lg shadow-md w-full max-w-md relative">
    <h1 class="text-2xl font-bold text-center mb-6 text-white-400">Mess Management System</h1>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=True) %}
      {% if messages %}
        <div id="flash-messages" class="mb-4">
          {% for category, message in messages %}
            <div class="p-3 rounded-lg text-white 
                {% if 'error' in category %} bg-red-500 
                {% elif 'success' in category %} bg-green-500 
                {% else %} bg-blue-500 {% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="post">
      <label class="block mb-4">
        <span class="text-white-300">ID</span>
        <input type="text" name="id" required placeholder="Enter your ID" class="mt-1 block w-full p-2 border rounded-lg bg-gray-700 text-yellow-200">
      </label>

      <label class="block mb-4">
        <span class="text-white-300">Password</span>
        <input type="password" name="password" required placeholder="Enter your Password" class="mt-1 block w-full p-2 border rounded-lg bg-gray-700 text-yellow-200">
      </label>

      <button type="submit" class="bg-yellow-500 text-gray-900 w-full py-2 rounded-lg hover:bg-yellow-600">Login</button>
    </form>
  </div>

  <script>
    // Remove flash messages after 5 seconds
    setTimeout(() => {
      let flashMessages = document.getElementById("flash-messages");
      if (flashMessages) {
        flashMessages.style.transition = "opacity 0.5s ease-out";
        flashMessages.style.opacity = "0";
        setTimeout(() => flashMessages.remove(), 500); // Remove from DOM
      }
    }, 5000);
  </script>
</body>
</html>
